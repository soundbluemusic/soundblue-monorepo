# ========================================
# pnpm Configuration for soundblue-monorepo
# ========================================

# Hoisting Strategy (Balance between performance and safety)
# --------------------------------------------
# Enable hoisting for common dependencies
hoist=true

# Prevent phantom dependencies (strict mode)
shamefully-hoist=false

# Selectively hoist development tools to root
# (Improves IDE support and linter performance)
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
public-hoist-pattern[]=*types*
public-hoist-pattern[]=@inlang/*
public-hoist-pattern[]=*biome*
public-hoist-pattern[]=@biomejs/*

# Peer Dependencies Management
# --------------------------------------------
# Automatically install peer dependencies
auto-install-peers=true

# Warn about missing peer dependencies
strict-peer-dependencies=false

# Installation Optimization
# --------------------------------------------
# Use global pnpm store for disk space efficiency
store-dir=~/.pnpm-store

# Allow flexible lockfile (for active development)
prefer-frozen-lockfile=false

# Performance
# --------------------------------------------
# Use symlinks for faster installs
symlink=true

# Limit concurrent network requests
network-concurrency=16

# Build Configuration
# --------------------------------------------
# Only build specific dependencies that need compilation
# (Prevents unnecessary rebuilds)
side-effects-cache=true

# Workspace Settings
# --------------------------------------------
# Respect workspace protocol
link-workspace-packages=true

# Save exact versions for workspace packages
save-workspace-protocol=true
