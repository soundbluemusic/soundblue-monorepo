#!/bin/sh
# Pre-commit hook: typecheck and lint validation
# ì»¤ë°‹ ì „ ê²€ì¦: íƒ€ì… ì²´í¬, ë¦°íŠ¸
#
# ë¹Œë“œëŠ” ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ë¯€ë¡œ ê¸°ë³¸ ì œì™¸
# ë¹Œë“œ í¬í•¨í•˜ë ¤ë©´: PRECOMMIT_BUILD=1 git commit -m "message"

echo "ğŸ” Running pre-commit checks..."

# 1. TypeScript type check
echo "ğŸ“ Type checking..."
pnpm typecheck || exit 1

# 2. Biome lint/format check
echo "ğŸ§¹ Linting..."
pnpm check || exit 1

# 3. Build (optional, enabled with PRECOMMIT_BUILD=1)
if [ "$PRECOMMIT_BUILD" = "1" ]; then
  echo "ğŸ—ï¸ Building..."
  pnpm build || exit 1
fi

echo "âœ… All checks passed!"
