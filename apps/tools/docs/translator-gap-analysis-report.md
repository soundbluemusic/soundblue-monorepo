# 한영 번역기 갭 분석 보고서

**작성일**: 2025-12-15
**분석 대상**: `src/tools/translator/` 모듈
**테스트 문장**: "안녕하세요 저는 사운드블루 입니다."

---

## 1. 요약 (Executive Summary)

현재 번역기는 **단어 대 단어 치환** 수준에 머물러 있으며, 실제 번역에 필요한 핵심 기능들이 부재합니다.

| 항목 | 현재 상태 | 필요 수준 | 갭 |
|------|-----------|-----------|-----|
| 사전 커버리지 | 51.7% | 95%+ | ❌ 심각 |
| 문법 처리 | 부분적 | 완전 | ❌ 심각 |
| 어순 변환 | 없음 | 필수 | ❌ 치명적 |
| 시제 변환 | 부분적 | 완전 | ❌ 심각 |
| 형태소 분석 | 불완전 | 완전 | ⚠️ 중요 |

---

## 2. 테스트 결과 분석

### 2.1 대표 문장 번역 결과

```
[입력] 안녕하세요 저는 사운드블루 입니다.
[출력] 안녕하세요 I 사운드블루 입니다
[기대] Hello, I am SoundBlue.
```

**문제점 분석:**
| 토큰 | 현재 출력 | 기대 출력 | 문제 |
|------|-----------|-----------|------|
| 안녕하세요 | 안녕하세요 | Hello | 사전 누락 |
| 저는 | I | I | ✅ 정상 |
| 사운드블루 | 사운드블루 | SoundBlue | 고유명사 처리 없음 |
| 입니다 | 입니다 | am | 서술격 조사 미처리 |

### 2.2 추가 테스트 결과

| 입력 | 출력 | 기대 | 핵심 문제 |
|------|------|------|-----------|
| 저는 학생입니다 | I student | I am a student | be동사, 관사 누락 |
| 밥을 먹었어요 | Rice eat | I ate rice | 주어, 시제, 어순 |
| 학교에 갑니다 | At school go | I go to school | 주어, 어순 |
| 나는 집에 있어요 | Occur at home exist | I am at home | '나' 오역, be동사 |
| 커피를 마셨어요 | Coffee drink | I drank coffee | 주어, 시제, 어순 |

---

## 3. 핵심 문제점 상세 분석

### 3.1 사전 커버리지 부족 (Critical)

**현재 상태:**
- 총 테스트 단어 60개 중 31개만 사전에 존재 (51.7%)
- 기본 동사/형용사 대부분 누락

**누락된 필수 어휘:**
```
[동사] 먹다, 가다, 읽다, 듣다, 만나다, 마시다, 있다, 없다, 하다, 되다, 보다, 알다
[형용사] 좋다
[명사] 불, 손, 발, 머리, 느낌, 계획
[표현] 안녕하세요, 예, 아니요, 싫어요
[문법] 입니다, 는, 이다
```

**원인:**
- `koToEnWords` 사전이 명사 위주로 구성됨
- 동사/형용사는 **기본형**으로 등록해야 하나 미등록
- 문법 요소가 사전에 없음

### 3.2 문장 구조 변환 부재 (Critical)

**한국어 vs 영어 어순:**
```
한국어: SOV (주어-목적어-동사)
영어:   SVO (주어-동사-목적어)

예시:
[KO] 나는  밥을   먹었어요
     (S)   (O)    (V)

[EN] I     ate    rice
     (S)   (V)    (O)
```

**현재 문제:**
- 어순 변환 로직 **완전 부재**
- 토큰 순서 그대로 출력
- 결과: "Rice eat" (O-V 순서 유지)

### 3.3 형태소 분석 불완전 (Critical)

**현재 어미 목록 (17개):**
```javascript
아요, 어요, 해요, 습니다, ㅂ니다,
았어요, 었어요, 했어요, 았습니다, 었습니다,
을 거예요, ㄹ 거예요, 겠습니다,
아, 어, 았어, 었어
```

**누락된 핵심 어미:**
```
[종결] -다, -요, -니다, -ㄴ다, -는다, -네, -군, -지
[연결] -고, -서, -면, -지만, -는데, -니까
[관형] -는, -은, -ㄴ, -을, -ㄹ
[명사형] -기, -음
```

**활용형 분해 실패 예시:**
```
먹었어요 → 어간: 먹 (추출 실패)
갑니다   → 어간: 가 (추출 실패, ㅂ니다 미인식)
좋습니다 → 어간: 좋 (추출 실패)
```

### 3.4 동사 활용 처리 미흡 (Critical)

**불규칙 활용 유형:**
| 유형 | 예시 | 현재 처리 |
|------|------|-----------|
| ㄷ불규칙 | 듣다→들어요 | ❌ |
| ㅂ불규칙 | 돕다→도와요 | ❌ |
| ㅅ불규칙 | 짓다→지어요 | ❌ |
| ㅎ불규칙 | 그렇다→그래요 | ❌ |
| 르불규칙 | 모르다→몰라요 | ❌ |
| 으탈락 | 쓰다→써요 | ❌ |
| 여불규칙 | 하다→해요 | ⚠️ 부분 |

### 3.5 주어 생략 처리 부재 (High)

**한국어 특성:**
- 주어 생략이 매우 빈번
- 문맥에서 유추 필요

```
[KO] 밥을 먹었어요     (주어 생략)
[EN] I ate rice       (주어 필수)

[KO] 학교에 갑니다     (주어 생략)
[EN] I go to school   (주어 필수)
```

**현재 문제:**
- 주어 생략 감지 없음
- 기본 주어(I, you 등) 삽입 로직 없음

### 3.6 Be 동사/조동사 삽입 부재 (High)

**필요한 경우:**
```
[명사+입니다] 학생입니다 → I am a student
[형용사+요]   좋아요     → It is good
[있다/없다]  있어요     → There is / I have
[진행형]     먹고 있어요 → I am eating
```

**현재 상태:**
- `입니다` → 사전에 없어 그대로 출력
- be동사 삽입 로직 없음
- 형용사 → "is + adjective" 변환 없음

### 3.7 관사 처리 부재 (Medium)

```
[현재] I student
[기대] I am a student

[현재] Book read
[기대] I read a/the book
```

**필요 로직:**
- 불가산 명사 구분 (water, rice, music...)
- 정관사/부정관사 선택 규칙
- 복수형 처리

### 3.8 시제 변환 미반영 (High)

**현재 상태:**
- 어미에서 시제 정보 추출은 가능
- 영어 동사에 시제 반영 **안 됨**

```
[어미 인식]
았어요 → { tense: 'past', formality: 'polite' }

[번역 결과]
먹었어요 → eat (시제 미반영, 원형 그대로)
기대: ate (과거형)
```

---

## 4. 아키텍처 분석

### 4.1 현재 번역 파이프라인

```
입력 → 정규화 → 문장매칭 → 관용어매칭 → 패턴매칭 → NLP → 형태소분해 → 출력
                                                    ↓
                                              (WSD, 연어, 도메인)
```

**문제점:**
1. **어순 변환 단계 없음**
2. **구문 분석(Parsing) 없음**
3. **문장 재구성(Generation) 없음**

### 4.2 필요한 파이프라인

```
입력 → 토큰화 → 형태소분석 → 구문분석 → 의미분석 → 전이(Transfer) → 생성 → 후처리 → 출력
              ↓           ↓          ↓           ↓            ↓
           어간추출    의존관계    WSD/연어    어순변환     시제/관사
           어미인식    주술목    도메인      동사활용     be동사삽입
           조사인식
```

### 4.3 누락된 핵심 모듈

| 모듈 | 역할 | 현재 상태 |
|------|------|-----------|
| 형태소 분석기 | 어간/어미/조사 분리 | ⚠️ 불완전 |
| 구문 분석기 | 문장 구조 파악 | ❌ 없음 |
| 어순 변환기 | SOV → SVO | ❌ 없음 |
| 동사 활용기 | 불규칙/시제 처리 | ⚠️ 불완전 |
| 문장 생성기 | 영어 문장 조립 | ❌ 없음 |

---

## 5. 사전 현황 상세

### 5.1 단어 사전 (`koToEnWords`)

```
총 단어 수: ~1,000개
품사별 분포:
- 명사: ~70% (대부분)
- 동사: ~5% (심각하게 부족)
- 형용사: ~5% (부족)
- 기타: ~20%
```

### 5.2 조사 사전 (`particles`)

```javascript
// 현재 13개
은, 는, 이, 가, 을, 를, 에, 에서, 로, 으로, 와, 과, 의

// 누락된 조사
도, 만, 까지, 부터, 에게, 한테, 께, 에게서, 보다, 처럼, 같이, 마다, 밖에
```

### 5.3 어미 사전 (`endings`)

```javascript
// 현재 17개
// 누락된 어미: 50개 이상

// 종결어미 누락
-다, -네, -군, -지, -니, -나, -냐, -까

// 연결어미 누락
-고, -서, -면, -지만, -는데, -니까, -려고, -도록

// 관형사형 어미 누락
-는, -은/ㄴ, -을/ㄹ, -던
```

---

## 6. 개선 우선순위

### Phase 1: 기초 인프라 (1주)

1. **동사/형용사 기본형 사전 확장**
   - 필수 동사 100개 추가
   - 필수 형용사 50개 추가
   - 기본 표현 추가 (안녕하세요, 감사합니다 등)

2. **어미 사전 확장**
   - 종결어미 20개 추가
   - 연결어미 15개 추가
   - 관형사형 어미 추가

3. **형태소 분석기 개선**
   - 어간 추출 알고리즘 강화
   - 불규칙 활용 처리 추가

### Phase 2: 핵심 기능 (2주)

4. **어순 변환기 구현**
   - 구문 분석 (의존 관계)
   - SOV → SVO 변환 규칙

5. **동사 활용 엔진**
   - 영어 동사 시제 변환
   - 불규칙 동사 처리

6. **주어/be동사 삽입**
   - 생략된 주어 추론
   - be동사 필요 상황 감지

### Phase 3: 품질 향상 (2주)

7. **관사 처리**
   - a/an/the 규칙
   - 불가산 명사 처리

8. **후처리 강화**
   - 자연스러운 문장 조립
   - 문법 검사

---

## 7. 기술적 권장사항

### 7.1 단기 개선 (Quick Wins)

```typescript
// 1. 기본 표현 추가
koToEnSentences['안녕하세요'] = 'Hello';
koToEnSentences['감사합니다'] = 'Thank you';

// 2. 서술격 조사 처리 강화
// 입니다 → am/is/are 변환 로직

// 3. 기본 동사 사전 추가
koToEnWords['먹'] = 'eat';
koToEnWords['가'] = 'go';
koToEnWords['있'] = 'exist';
```

### 7.2 중기 개선

1. **문장 템플릿 시스템**
   ```
   [S]는 [O]을 [V]다 → [S] [V] [O]
   [S]는 [N]입니다 → [S] am/is/are [N]
   ```

2. **의존 구문 분석 도입**
   - 주어/목적어/서술어 관계 파악
   - 수식 관계 처리

### 7.3 장기 개선

1. 외부 형태소 분석기 연동 (KOMORAN, KoNLPy 등)
2. 신경망 기반 번역 모델 고려
3. 병렬 말뭉치 기반 통계적 번역

---

## 8. 결론

현재 번역기는 **단어 치환 수준**이며, 문장 번역을 위한 핵심 기능들이 부재합니다.

**즉시 필요한 조치:**
1. 동사/형용사 사전 대폭 확장
2. 어순 변환 로직 구현
3. 형태소 분석기 강화
4. be동사/주어 삽입 로직

**예상 작업량:**
- Phase 1: 약 1주 (사전 확장, 형태소 분석)
- Phase 2: 약 2주 (어순 변환, 동사 활용)
- Phase 3: 약 2주 (관사, 후처리)

위 개선을 완료하면 "안녕하세요 저는 사운드블루 입니다"를 "Hello, I am SoundBlue"로 번역할 수 있습니다.

---

## 부록: 테스트 파일

분석에 사용된 테스트: `src/tools/translator/translation-gap-analysis.test.ts`

```bash
pnpm vitest run src/tools/translator/translation-gap-analysis.test.ts
```
