@import "tailwindcss";

/**
 * Dialogue App - Global Styles
 * Matching SoundBlueMusic design system (sound-blue, tools apps)
 * Light Mode: "Morning Mist" - soft pastels with teal accent
 * Dark Mode: "Deep Lagoon" - rich dark with teal undertones
 */

/* Dark mode selector for Tailwind v4 */
@variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

/* ============================================
 * CSS Variables - Light Mode ("Morning Mist")
 * Soft, friendly pastels with teal/mint brand colors
 * ============================================ */
:root {
  /* Backgrounds */
  --color-bg-primary: #F7FAFA;
  --color-bg-secondary: #EFF5F4;
  --color-bg-tertiary: #E5EFEC;
  --color-bg-chat: #FFFFFF;
  --color-bg-elevated: #FFFFFF;
  --color-bg-glass: rgba(247, 250, 250, 0.8);

  /* Text */
  --color-text-primary: #2A3836;
  --color-text-secondary: #4A5E5A;
  --color-text-muted: #6B807A;
  --color-text-inverse: #F7FAFA;

  /* Accent - Sound Blue Teal */
  --color-accent: #4A9E95;
  --color-accent-hover: #3D8880;
  --color-accent-light: rgba(74, 158, 149, 0.12);

  /* Chat Bubbles */
  --color-user-bubble: #4A9E95;
  --color-assistant-bubble: #FFFFFF;

  /* Borders */
  --color-border: #D5E0DD;
  --color-border-hover: #C5D5D0;

  /* Shadows - soft teal-tinted */
  --color-shadow: rgba(42, 70, 65, 0.08);

  /* Status Colors */
  --color-green-badge: rgba(74, 144, 112, 0.12);
  --color-green-text: #4A9070;
  --color-error: #C45858;
  --color-success: #4A9070;
  --color-warning: #B08830;

  /* Interactive States */
  --color-interactive-hover: rgba(74, 158, 149, 0.08);
  --color-interactive-active: rgba(74, 158, 149, 0.15);

  /* Radius */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 20px;

  /* Font families */
  --font-sans: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text",
    "Helvetica Neue", "Segoe UI", Roboto, system-ui, sans-serif;
  --font-mono: "SF Mono", "Fira Code", "Fira Mono", Menlo, monospace;

  /* Animations */
  --animate-fade-in: fade-in 0.3s ease-out;
  --animate-typing: typing 1.4s infinite ease-in-out;
}

/* ============================================
 * Dark Mode ("Deep Lagoon")
 * Rich dark with teal undertones
 * ============================================ */
[data-theme="dark"] {
  /* Backgrounds - teal undertones */
  --color-bg-primary: #0F1716;
  --color-bg-secondary: #161F1E;
  --color-bg-tertiary: #1E2928;
  --color-bg-chat: #1A2423;
  --color-bg-elevated: #253332;
  --color-bg-glass: rgba(22, 31, 30, 0.85);

  /* Text - cool tones */
  --color-text-primary: #E5F0EE;
  --color-text-secondary: #B0C5C2;
  --color-text-muted: #8AA5A0;
  --color-text-inverse: #0F1716;

  /* Accent - Lighter teal for dark mode */
  --color-accent: #6ECEC5;
  --color-accent-hover: #85D8D0;
  --color-accent-light: rgba(110, 206, 197, 0.15);

  /* Chat Bubbles */
  --color-user-bubble: #4A9E95;
  --color-assistant-bubble: #253332;

  /* Borders */
  --color-border: #2E3E3C;
  --color-border-hover: #3A4E4B;

  /* Shadows */
  --color-shadow: rgba(0, 15, 12, 0.30);

  /* Status Colors - soft pastels */
  --color-green-badge: rgba(144, 200, 168, 0.15);
  --color-green-text: #90C8A8;
  --color-error: #F0A0A0;
  --color-success: #90C8A8;
  --color-warning: #E8C87C;

  /* Interactive States */
  --color-interactive-hover: rgba(110, 206, 197, 0.10);
  --color-interactive-active: rgba(110, 206, 197, 0.18);
}

/* System preference auto-detect */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --color-bg-primary: #0F1716;
    --color-bg-secondary: #161F1E;
    --color-bg-tertiary: #1E2928;
    --color-bg-chat: #1A2423;
    --color-bg-elevated: #253332;
    --color-bg-glass: rgba(22, 31, 30, 0.85);
    --color-text-primary: #E5F0EE;
    --color-text-secondary: #B0C5C2;
    --color-text-muted: #8AA5A0;
    --color-text-inverse: #0F1716;
    --color-accent: #6ECEC5;
    --color-accent-hover: #85D8D0;
    --color-accent-light: rgba(110, 206, 197, 0.15);
    --color-user-bubble: #4A9E95;
    --color-assistant-bubble: #253332;
    --color-border: #2E3E3C;
    --color-border-hover: #3A4E4B;
    --color-shadow: rgba(0, 15, 12, 0.30);
    --color-green-badge: rgba(144, 200, 168, 0.15);
    --color-green-text: #90C8A8;
    --color-error: #F0A0A0;
    --color-success: #90C8A8;
    --color-warning: #E8C87C;
    --color-interactive-hover: rgba(110, 206, 197, 0.10);
    --color-interactive-active: rgba(110, 206, 197, 0.18);
  }
}

/* ============================================
 * Tailwind v4 Theme Extension
 * ============================================ */
@theme {
  /* Custom Colors for Tailwind utilities */
  --color-bg-primary: var(--color-bg-primary);
  --color-bg-secondary: var(--color-bg-secondary);
  --color-bg-tertiary: var(--color-bg-tertiary);
  --color-bg-chat: var(--color-bg-chat);
  --color-text-primary: var(--color-text-primary);
  --color-text-secondary: var(--color-text-secondary);
  --color-text-muted: var(--color-text-muted);
  --color-accent: var(--color-accent);
  --color-accent-hover: var(--color-accent-hover);
  --color-accent-light: var(--color-accent-light);
  --color-user-bubble: var(--color-user-bubble);
  --color-assistant-bubble: var(--color-assistant-bubble);
  --color-border: var(--color-border);
  --color-green-badge: var(--color-green-badge);
  --color-green-text: var(--color-green-text);

  /* Animations */
  --animate-fade-in: fade-in 0.3s ease-out;
  --animate-typing: typing 1.4s infinite ease-in-out;
}

/* ============================================
 * Keyframe Animations
 * ============================================ */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes typing {
  0%,
  100% {
    opacity: 0.3;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* ============================================
 * Base Styles
 * ============================================ */
@layer base {
  * {
    @apply m-0 p-0 box-border;
  }

  html,
  body {
    @apply h-full font-sans leading-relaxed overflow-hidden;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  #app {
    @apply h-full flex flex-col;
  }

  /* Scrollbar - Apple style minimal */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 100px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
  }

  /* Selection */
  ::selection {
    background: var(--color-accent-light);
    color: inherit;
  }

  /* Focus */
  :focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  :focus:not(:focus-visible) {
    outline: none;
  }

  /* Buttons */
  button {
    @apply font-sans cursor-pointer border-none bg-transparent;
  }

  /* Inputs */
  input,
  textarea {
    @apply font-sans border-none bg-transparent;
  }

  /* Links */
  a {
    color: var(--color-accent);
    text-decoration: none;
  }

  a:hover {
    color: var(--color-accent-hover);
  }
}

/* ============================================
 * Reduced Motion
 * ============================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms;
    animation-iteration-count: 1;
    transition-duration: 0.01ms;
  }
}

/* ============================================
 * Touch Optimization
 * ============================================ */
@media (hover: none) and (pointer: coarse) {
  button:not(.inline-btn),
  a:not(.inline-link),
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}
