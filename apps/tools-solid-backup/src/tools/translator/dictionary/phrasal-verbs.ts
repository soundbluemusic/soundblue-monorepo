// ========================================
// Phrasal Verbs Dictionary - 구동사 사전
// 영어 구동사 → 한국어 번역
// ========================================

/**
 * 구동사 사전 (영→한)
 * 영어 구동사와 그 한국어 번역
 */
export const phrasalVerbs: Record<string, string> = {
  // === A ===
  'add up': '합산하다',
  'ask out': '데이트 신청하다',

  // === B ===
  'back off': '물러서다',
  'back up': '백업하다 / 후진하다',
  'blow up': '폭발하다 / 화내다',
  'break down': '고장나다 / 무너지다',
  'break in': '침입하다 / 길들이다',
  'break out': '발생하다 / 탈출하다',
  'break up': '헤어지다 / 깨지다',
  'bring up': '키우다 / 언급하다',
  'burn out': '지치다 / 타버리다',

  // === C ===
  'call back': '다시 전화하다',
  'call off': '취소하다',
  'calm down': '진정하다',
  'carry on': '계속하다',
  'catch up': '따라잡다',
  'check in': '체크인하다',
  'check out': '체크아웃하다 / 확인하다',
  'cheer up': '기운내다',
  'clean up': '청소하다',
  'come across': '우연히 만나다',
  'come back': '돌아오다',
  'come down': '내려오다',
  'come in': '들어오다',
  'come out': '나오다',
  'come up': '다가오다 / 떠오르다',
  'come up with': '생각해내다',
  'cut off': '끊다 / 차단하다',

  // === D ===
  'die down': '가라앉다',
  'do over': '다시 하다',
  'drop by': '들르다',
  'drop off': '내려주다 / 떨어지다',
  'drop out': '중퇴하다 / 포기하다',

  // === E ===
  'eat out': '외식하다',
  'end up': '결국 ~하게 되다',

  // === F ===
  'fall apart': '무너지다',
  'fall behind': '뒤처지다',
  'fall down': '넘어지다',
  'fall out': '떨어지다 / 사이가 틀어지다',
  'figure out': '알아내다 / 이해하다',
  'fill in': '빈칸을 채우다',
  'fill out': '작성하다',
  'fill up': '가득 채우다',
  'find out': '알아내다',
  'fit in': '어울리다',

  // === G ===
  'get along': '사이좋게 지내다',
  'get away': '도망가다 / 휴가가다',
  'get back': '돌아오다 / 되찾다',
  'get by': '그럭저럭 살다',
  'get in': '들어가다 / 타다',
  'get off': '내리다 / 퇴근하다',
  'get on': '타다 / 잘 지내다',
  'get out': '나가다',
  'get over': '극복하다',
  'get through': '통과하다 / 연락이 되다',
  'get up': '일어나다',
  'give away': '나눠주다 / 누설하다',
  'give back': '돌려주다',
  'give in': '굴복하다 / 양보하다',
  'give up': '포기하다',
  'go ahead': '진행하다 / 먼저 하세요',
  'go away': '가버리다',
  'go back': '돌아가다',
  'go down': '내려가다',
  'go off': '울리다 / 폭발하다',
  'go on': '계속하다',
  'go out': '나가다 / 사귀다',
  'go over': '검토하다',
  'go through': '겪다 / 통과하다',
  'go up': '올라가다',
  'grow up': '성장하다',

  // === H ===
  'hand in': '제출하다',
  'hand out': '나눠주다',
  'hang on': '기다리다 / 매달리다',
  'hang out': '놀다 / 어울리다',
  'hang up': '전화를 끊다',
  'head out': '출발하다',
  'hold on': '기다리다 / 버티다',
  'hurry up': '서두르다',

  // === K ===
  'keep on': '계속하다',
  'keep up': '유지하다 / 따라가다',
  'kick off': '시작하다',
  'knock out': '기절시키다',

  // === L ===
  'lay off': '해고하다',
  'leave out': '빼다 / 제외하다',
  'let down': '실망시키다',
  'let in': '들여보내다',
  'let out': '내보내다',
  'lie down': '눕다',
  'line up': '줄서다',
  'live up to': '기대에 부응하다',
  'log in': '로그인하다',
  'log out': '로그아웃하다',
  'look after': '돌보다',
  'look around': '둘러보다',
  'look back': '뒤돌아보다',
  'look for': '찾다',
  'look forward to': '기대하다',
  'look into': '조사하다',
  'look out': '조심하다',
  'look over': '검토하다',
  'look up': '찾아보다 / 올려다보다',

  // === M ===
  'make out': '이해하다 / 키스하다',
  'make up': '화해하다 / 구성하다 / 화장하다',
  'mess up': '망치다',
  'mix up': '혼동하다',
  'move in': '이사 들어오다',
  'move on': '계속하다 / 넘어가다',
  'move out': '이사 나가다',

  // === P ===
  'pass away': '돌아가시다',
  'pass by': '지나가다',
  'pass out': '기절하다 / 나눠주다',
  'pay back': '갚다',
  'pay off': '성과를 내다 / 완납하다',
  'pick out': '고르다',
  'pick up': '줍다 / 데리러 가다 / 배우다',
  'point out': '지적하다',
  'pull off': '해내다',
  'pull over': '차를 세우다',
  'put away': '치우다',
  'put back': '제자리에 놓다',
  'put down': '내려놓다 / 비하하다',
  'put off': '미루다',
  'put on': '입다 / 켜다',
  'put out': '끄다 / 내놓다',
  'put together': '조립하다',
  'put up': '올리다 / 게시하다',
  'put up with': '참다',

  // === R ===
  'rip off': '바가지 씌우다',
  'rule out': '배제하다',
  'run away': '도망가다',
  'run into': '우연히 만나다',
  'run out': '다 떨어지다',
  'run over': '치다 / 넘치다',

  // === S ===
  'set off': '출발하다',
  'set up': '설치하다 / 설정하다',
  'settle down': '정착하다',
  'show off': '자랑하다',
  'show up': '나타나다',
  'shut down': '닫다 / 종료하다',
  'shut up': '입 다물다',
  'sign in': '서명하다 / 로그인하다',
  'sign out': '로그아웃하다',
  'sign up': '가입하다',
  'sit down': '앉다',
  'slow down': '속도를 줄이다',
  'sort out': '정리하다 / 해결하다',
  'speak up': '크게 말하다 / 발언하다',
  'speed up': '속도를 높이다',
  'stand by': '대기하다 / 지지하다',
  'stand out': '눈에 띄다',
  'stand up': '일어서다',
  'start over': '다시 시작하다',
  'stay up': '안 자고 있다',
  'stick out': '튀어나오다',
  'switch off': '끄다',
  'switch on': '켜다',

  // === T ===
  'take away': '가져가다',
  'take back': '되돌리다 / 취소하다',
  'take care of': '돌보다',
  'take down': '내리다 / 적다',
  'take in': '받아들이다',
  'take off': '벗다 / 이륙하다',
  'take on': '맡다',
  'take out': '꺼내다 / 데리고 나가다',
  'take over': '인수하다',
  'take up': '시작하다 / 차지하다',
  'talk over': '상의하다',
  'tear down': '헐다',
  'think about': '생각하다',
  'think over': '숙고하다',
  'throw away': '버리다',
  'throw out': '버리다 / 내쫓다',
  'throw up': '토하다',
  'try on': '입어보다',
  'try out': '시험해보다',
  'turn around': '돌아서다',
  'turn back': '되돌아가다',
  'turn down': '거절하다 / 줄이다',
  'turn in': '제출하다',
  'turn into': '변하다',
  'turn off': '끄다',
  'turn on': '켜다',
  'turn out': '~로 드러나다',
  'turn over': '뒤집다',
  'turn up': '나타나다 / 올리다',

  // === W ===
  'wake up': '일어나다',
  'warm up': '준비운동하다 / 데우다',
  'watch out': '조심하다',
  'work on': '작업하다',
  'work out': '운동하다 / 잘 되다',
  'wrap up': '마무리하다',
  'write down': '적다',

  // === Z ===
  'zip up': '지퍼를 올리다',
};

/**
 * 구동사 목록 (긴 것부터 정렬 - 여러 단어로 구성된 것 우선)
 */
export const phrasalVerbList = Object.keys(phrasalVerbs).sort((a, b) => {
  // 단어 수로 먼저 정렬, 같으면 길이로 정렬
  const aWords = a.split(' ').length;
  const bWords = b.split(' ').length;
  if (bWords !== aWords) return bWords - aWords;
  return b.length - a.length;
});

/**
 * 문장에서 구동사 번역
 */
export function translatePhrasalVerbs(text: string): { translated: string; found: boolean } {
  let result = text.toLowerCase();
  let found = false;

  for (const pv of phrasalVerbList) {
    const pattern = new RegExp(`\\b${pv}\\b`, 'gi');
    if (pattern.test(result)) {
      const translation = phrasalVerbs[pv];
      if (translation) {
        result = result.replace(pattern, translation);
        found = true;
      }
    }
  }

  return { translated: result, found };
}
